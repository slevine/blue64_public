<!DOCTYPE html>
<!--
    So Simple Jekyll Theme 3.2.0
    Copyright 2013-2019 Michael Rose - mademistakes.com | @mmistakes
    Free for personal and commercial use under the MIT license
    https://github.com/mmistakes/so-simple-theme/blob/master/LICENSE
-->
<html lang="en-US" class="no-js">
  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  
  

  
    
    <!-- Begin Jekyll SEO tag v2.7.1 -->
<title>Scala reduceLeft | Steven Levine</title>
<meta name="generator" content="Jekyll v4.2.1" />
<meta property="og:title" content="Scala reduceLeft" />
<meta name="author" content="Steven Levine" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="This post was updated on November 19, 2009." />
<meta property="og:description" content="This post was updated on November 19, 2009." />
<link rel="canonical" href="https://stevenlevine.dev/2009/11/scala-reduceleft/" />
<meta property="og:url" content="https://stevenlevine.dev/2009/11/scala-reduceleft/" />
<meta property="og:site_name" content="Steven Levine" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2009-11-19T17:52:02+00:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Scala reduceLeft" />
<script type="application/ld+json">
{"description":"This post was updated on November 19, 2009.","@type":"BlogPosting","headline":"Scala reduceLeft","dateModified":"2009-11-19T17:52:02+00:00","datePublished":"2009-11-19T17:52:02+00:00","publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"https://stevenlevine.dev/images/site-logo.png"},"name":"Steven Levine"},"url":"https://stevenlevine.dev/2009/11/scala-reduceleft/","mainEntityOfPage":{"@type":"WebPage","@id":"https://stevenlevine.dev/2009/11/scala-reduceleft/"},"author":{"@type":"Person","name":"Steven Levine"},"@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->


  

  <script>
    /* Cut the mustard */
    if ( 'querySelector' in document && 'addEventListener' in window ) {
      document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + 'js';
    }
  </script>

  <link rel="stylesheet" href="/assets/css/main.css">
  <link rel="stylesheet" href="/assets/css/skins/default.css">
  
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:400,400i,700,700i|Roboto:400,400i,700,700i">
  <link rel="alternate" type="application/atom+xml" title="Steven Levine" href="/feed.xml">
<!-- start custom head snippets -->

<!-- insert favicons. use http://realfavicongenerator.net/ -->

<!-- end custom head snippets -->

</head>


  <body class="layout--post  scala-reduceleft">
    <nav class="skip-links">
  <h2 class="screen-reader-text">Skip links</h2>
  <ul>
    <li><a href="#primary-nav" class="screen-reader-shortcut">Skip to primary navigation</a></li>
    <li><a href="#main" class="screen-reader-shortcut">Skip to content</a></li>
    <li><a href="#footer" class="screen-reader-shortcut">Skip to footer</a></li>
  </ul>
</nav>

    
  <div class="navigation-wrapper">
    <a href="#menu-toggle" id="menu-toggle">Menu</a>
    <nav id="primary-nav" class="site-nav animated drop">
      <ul><li><a href="/about/">About</a></li><li><a href="/archives/">Archives</a></li><li><a href="/tags/">Tags</a></li><li><a href="/search/">Search</a></li></ul>
    </nav>
  </div><!-- /.navigation-wrapper -->


    <header class="masthead">
  <div class="wrap">
    
      <a href="/" class="site-logo" rel="home" title="Steven Levine">
        <img src="/images/site-logo.png" class="site-logo-img animated fadeInDown" alt="Steven Levine">
      </a>
    
    
    
      
        <div class="site-title animated fadeIn"><a href="/">Steven Levine</a></div>
      
      <p class="site-description animated fadeIn" itemprop="description">Working at Google Cloud, Hacker, Programmer, Cycling Geek, Scala Enthusiast,  who is fascinated with all things Data, Cloud, and Internet Scale.</p>
    
  </div>
</header><!-- /.masthead -->


    <main id="main" class="main-content" aria-label="Content">
  <article class="h-entry">
    

    <div class="page-wrapper">
      <header class="page-header">
        
        
          <h1 id="page-title" class="page-title p-name">Scala reduceLeft
</h1>
        
      </header>

      <div class="page-sidebar">
        <div class="page-author h-card p-author"><img src="/images/author.jpg" class="author-avatar u-photo" alt="Steven Levine"><div class="author-info"><div class="author-name">
        <span class="p-name">Steven Levine</span>
      </div><ul class="author-links"><li class="author-link">
            <a class="u-url" rel="me" href="https://github.com/slevine"><i class="fab fa-github-square fa-lg" title="GitHub"></i></a>
          </li><li class="author-link">
            <a class="u-url" rel="me" href="https://twitter.com/_stevenlevine"><i class="fab fa-twitter-square fa-lg" title="Twitter"></i></a>
          </li><li class="author-link">
            <a class="u-url" rel="me" href="https://www.linkedin.com/in/levinesteve/"><i class="fab fa-linkedin fa-lg" title="LinkedIn"></i></a>
          </li><li class="author-link">
            <a class="u-url" rel="me" href="https://stackoverflow.com/users/63013/steven-levine"><i class="fab fa-stack-overflow fa-lg" title="StackOverflow"></i></a>
          </li><li class="author-link">
            <a class="u-url" rel="me" href="https://medium.com/@_stevenlevine"><i class="fab fa-medium fa-lg" title="Medium"></i></a>
          </li></ul>

<span class="read-time">2 min read</span>

    <time class="page-date dt-published" datetime="2009-11-19T17:52:02+00:00"><a class="u-url" href="">November 19, 2009</a>
</time>

  </div>
</div>

        

        
  <h3 class="page-taxonomies-title">Tags</h3>
  <ul class="page-taxonomies"><li class="page-taxonomy"><a href="/tags/#development" title="Pages tagged Development" rel="tag">Development</a></li><li class="page-taxonomy"><a href="/tags/#scala" title="Pages tagged Scala" rel="tag">Scala</a></li>
  </ul>


      </div>

      <div class="page-content">
        <div class="e-content">
          <p><em>This post was updated on November 19, 2009</em>.</p>

<p>As you know, during the past few weeks (time permitting), I have been spending time studying the Scala programming language. After reading the first few chapters of <a href="http://www.artima.com/shop/programming_in_scala">Programming In Scala</a>, I have come across the first feature of Scala that would have been totally useful for me on one of my Java programming tasks a few months ago.</p>

<p>The actual programming task was quite complex, but for the purposes of this post, we will work with a dramatically simplified example. The simplified task is: given a list of Stocks figure out which one has the highest earnings per share.</p>

<p>Here is one way the problem can be solved in Scala:</p>

<figure class="highlight"><pre><code class="language-scala" data-lang="scala"><table class="rouge-table"><tbody><tr><td class="gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
</pre></td><td class="code"><pre><span class="k">class</span> <span class="nc">Stock</span><span class="o">(</span><span class="k">val</span> <span class="nv">ticker</span><span class="k">:</span> <span class="kt">String</span><span class="o">,</span> <span class="k">var</span> <span class="n">price</span><span class="k">:</span> <span class="kt">Double</span><span class="o">,</span> <span class="k">var</span> <span class="n">earnings</span><span class="k">:</span> <span class="kt">Double</span><span class="o">,</span> <span class="k">var</span> <span class="n">shares</span><span class="k">:</span> <span class="kt">Int</span><span class="o">)</span> <span class="o">{</span>
    <span class="k">override</span> <span class="k">def</span> <span class="nf">toString</span> <span class="k">=</span> <span class="n">ticker</span> <span class="o">+</span> <span class="s">" has eps of: "</span> <span class="o">+</span> <span class="n">eps</span> <span class="o">+</span> <span class="s">" with a price of "</span> <span class="o">+</span> <span class="n">price</span>
    <span class="k">def</span> <span class="nf">eps</span> <span class="k">=</span> <span class="n">earnings</span> <span class="o">/</span> <span class="n">shares</span>
    <span class="k">def</span> <span class="nf">&gt;</span><span class="o">(</span><span class="n">that</span><span class="k">:</span> <span class="kt">Stock</span><span class="o">)</span><span class="k">:</span> <span class="kt">Boolean</span> <span class="o">=</span> <span class="o">{</span><span class="n">eps</span> <span class="o">&gt;</span> <span class="nv">that</span><span class="o">.</span><span class="py">eps</span><span class="o">}</span>
  <span class="o">}</span>

  <span class="k">val</span> <span class="nv">portfolio</span> <span class="k">=</span> <span class="nc">List</span><span class="o">(</span>
    <span class="k">new</span> <span class="nc">Stock</span><span class="o">(</span><span class="s">"aapl"</span><span class="o">,</span> <span class="mi">203</span><span class="o">,</span> <span class="mf">4.73E9</span><span class="o">,</span> <span class="mi">878876000</span><span class="o">),</span>
    <span class="k">new</span> <span class="nc">Stock</span><span class="o">(</span><span class="s">"ibm"</span><span class="o">,</span> <span class="mi">66</span><span class="o">,</span> <span class="mf">1.23E10</span><span class="o">,</span> <span class="mi">1384331000</span><span class="o">),</span>
    <span class="k">new</span> <span class="nc">Stock</span><span class="o">(</span><span class="s">"goog"</span><span class="o">,</span> <span class="mi">465</span><span class="o">,</span> <span class="mf">4.19E9</span><span class="o">,</span> <span class="mi">314754113</span><span class="o">)</span>
  <span class="o">)</span>

  <span class="nf">println</span><span class="o">(</span>
    <span class="nv">portfolio</span><span class="o">.</span><span class="py">reduceLeft</span><span class="o">(</span>
        <span class="o">(</span><span class="n">s1</span><span class="o">,</span> <span class="n">s2</span><span class="o">)</span> <span class="k">=&gt;</span> <span class="nf">if</span> <span class="o">(</span><span class="n">s1</span> <span class="o">&gt;</span> <span class="n">s2</span><span class="o">)</span> <span class="n">s1</span> <span class="k">else</span> <span class="n">s2</span>
    <span class="o">)</span>
  <span class="o">)</span>
  <span class="c1">// goog has eps of: 13.31</span>
</pre></td></tr></tbody></table></code></pre></figure>

<p><em>Download Source: <a href="http://github.com/slevine/scala-training/blob/master/src/main/scala/net/slevine/scalatraining/stocks/model/stocks.scala">Stock.scala</a>, <a href="http://github.com/slevine/scala-training/blob/master/src/main/scripts/stocks/reduceLeft.scala">reduceLeft.scala</a></em></p>

<p>If you have never seen Scala code before, this code will look quite foreign to you because there are a lot of concepts in Scala that are not present in Java. In a few weeks (again time permitting), will begin writing a series on Scala for Java programmers, but for right now, please bear with me, and try to follow along.</p>

<p>The most interesting things to me about this code are:</p>

<ul>
  <li><del>Line 04: You are reading it correct, that is operator overloading!</del>
    <ul>
      <li><em>Correction: Scala doesn’t actually support “operator overloading”, in fact, “operators are not special language syntax”. In Scala any method can be an operator. What makes an operator an operator is how you use it. Example:</em></li>
    </ul>
  </li>
</ul>

<figure class="highlight"><pre><code class="language-scala" data-lang="scala"><table class="rouge-table"><tbody><tr><td class="gutter gl"><pre class="lineno">1
2
3
</pre></td><td class="code"><pre><span class="mi">1</span> <span class="o">+</span> <span class="mi">2</span> <span class="c1">//operator</span>
<span class="mf">1.</span><span class="o">+</span><span class="mi">2</span> <span class="c1">//not operator (but returns wrong type)</span>
<span class="o">(</span><span class="mi">1</span><span class="o">).+(</span><span class="mi">2</span><span class="o">)</span> <span class="c1">// Correct return type</span>
</pre></td></tr></tbody></table></code></pre></figure>

<ul>
  <li>Line 07: It is great to be able to populate a list so easily without having to mess around with add methods.</li>
  <li>Line 14: This is the coolest feature of them all so far, the ability to reduce a list of elements down to one based on a binary operator.</li>
</ul>

<p>This is just a <strong>small</strong> demonstration of the very basics of the Scala language. If you find this at all interesting, you can find out much more at <a href="http://www.scala-lang.org/">scala-lang.org</a>.</p>

<p><em>Note: obviously, this is not the most optimal Scala solution so if your a Scala guru, criticisms are welcome. I hope to come back to this example every few weeks, continually improving it as my knowledge of Scala grows.</em></p>

<p>References The code found in this post is hosted at <a href="http://github.com/slevine/scala-training">github.com</a> along with other sample Scala code.</p>

        </div>

        

        
          
  <div class="page-comments">
    <div id="disqus_thread"></div>
    <script>
      var disqus_config = function () {
        this.page.url = 'https://stevenlevine.dev/2009/11/scala-reduceleft/';
        this.page.identifier = 'https://stevenlevine.dev/2009/11/scala-reduceleft/';
      };

      (function() {
        var d = document, s = d.createElement('script');
        s.src = 'https://levine.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
      })();
    </script>
    <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>
  </div>


        

        <nav class="page-pagination" role="navigation">
  
    <a class="page-previous" href="/2009/11/simple-applescript-for-the-traveling-mac/">
      <h4 class="page-pagination-label">Previous</h4>
      <span class="page-pagination-title">
        <i class="fas fa-arrow-left"></i> Simple Applescript For The Traveling Mac

      </span>
    </a>
  

  
    <a class="page-next" href="/2009/11/scala-sugar-lists/">
      <h4 class="page-pagination-label">Next</h4>
      <span class="page-pagination-title">
        Scala Sugar - Lists
 <i class="fas fa-arrow-right"></i>
      </span>
    </a>
  
</nav>

      </div>
    </div>
  </article>
</main>


    <footer id="footer" class="site-footer">
  <!-- start custom footer snippets -->

<!-- end custom footer snippets -->
<div class="social-icons"><a class="social-icon" href="/feed.xml"><i class="fas fa-rss-square fa-2x" title="Feed"></i></a></div><div class="copyright">
    
      <p>&copy; 2022 Steven Levine. Powered by <a href="https://jekyllrb.com" rel="nofollow">Jekyll</a> &amp; <a href="https://github.com/mmistakes/so-simple-theme" rel="nofollow">So Simple</a>.</p>
    
  </div>
</footer>

    <script src="https://code.jquery.com/jquery-3.3.1.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
  <script src="/assets/js/main.min.js"></script>
  <script src="https://use.fontawesome.com/releases/v5.0.12/js/all.js"></script><script>
  if(!(window.doNotTrack === "1" || navigator.doNotTrack === "1" || navigator.doNotTrack === "yes" || navigator.msDoNotTrack === "1")) {
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
    ga('create', 'UA-113658491-1', 'auto');
    ga('send', 'pageview');
  }
  </script>


  </body>

</html>
